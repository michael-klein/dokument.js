{"version":3,"file":"dokument.js.cjs.development.js","sources":["../src/theme/components/new/docs.tsx","../src/store/docStore.ts","../src/search/search_index.ts","../src/doc_context.ts","../src/utils/file_utils.ts","../src/hooks/use_doc_context.ts","../src/theme/components/last_changed.tsx","../src/theme/components/document_renderer.tsx","../src/theme/components/nav.tsx","../src/theme/components/sidebar.tsx","../src/theme/components/main.tsx","../src/theme/components/search.tsx","../src/hooks/use_to.ts","../src/theme/components/previous_and_next.tsx","../src/utils/document_interfaces.ts","../src/theme/components/nav_item.tsx","../src/theme/components/nav_level.tsx","../src/theme/components/search_results.tsx","../src/theme/components/search_results_item.tsx","../src/theme/components/loading.tsx","../src/theme/components/branding.tsx","../src/theme/components/recent.tsx","../src/theme/components/header.tsx","../src/theme/components/component_list_value.ts","../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/utils/document_provider.ts","../src/index.tsx"],"sourcesContent":["import { Layout, Menu } from 'antd';\nimport * as React from 'react';\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  UserOutlined,\n  VideoCameraOutlined,\n  UploadOutlined,\n} from '@ant-design/icons';\n\nconst { Header, Sider, Content } = Layout;\n\nexport const Docs = () => {\n  const [collapsed, setCollapsed] = React.useState(false);\n  return (\n    <>\n      <Layout>\n        <Sider trigger={null} collapsible collapsed={collapsed}>\n          <div className=\"logo\">Docs</div>\n          <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['1']}>\n            <Menu.Item key=\"1\" icon={<UserOutlined />}>\n              nav 1\n            </Menu.Item>\n            <Menu.Item key=\"2\" icon={<VideoCameraOutlined />}>\n              nav 2\n            </Menu.Item>\n            <Menu.Item key=\"3\" icon={<UploadOutlined />}>\n              nav 3\n            </Menu.Item>\n          </Menu>\n        </Sider>\n        <Layout className=\"site-layout\">\n          <Header className=\"site-layout-background\" style={{ padding: 0 }}>\n            {React.createElement(\n              collapsed ? MenuUnfoldOutlined : MenuFoldOutlined,\n              {\n                className: 'trigger',\n                onClick: () => setCollapsed(c => !c),\n              }\n            )}\n          </Header>\n          <Content\n            className=\"site-layout-background\"\n            style={{\n              margin: '24px 16px',\n              padding: 24,\n              minHeight: 280,\n            }}\n          >\n            Content\n          </Content>\n        </Layout>\n      </Layout>\n    </>\n  );\n};\n","import { createStore, Store } from 'forimmer';\nimport {\n  Navbar,\n  DocumentData,\n  DocumentMap,\n} from '../utils/document_interfaces';\n\nexport const dokumentStore: Store<DocStoreState> = createStore<DocStoreState>({\n  documentMap: {},\n  allDocumentsLoaded: false,\n});\n\nexport const setNavBar = dokumentStore.createStoreAction(\n  async (navbar: Navbar) => {\n    return draft => {\n      draft.navbar = navbar;\n    };\n  }\n);\n\nexport const setCurrentDocument = dokumentStore.createStoreAction(\n  async (currentDocument: DocumentData) => {\n    return draft => {\n      draft.currentDocument = currentDocument;\n    };\n  }\n);\n\nexport const addDocument = dokumentStore.createStoreAction(\n  async (document: DocumentData) => {\n    return draft => {\n      draft.documentMap[document.slug] = document;\n    };\n  }\n);\n\nexport const setDocumentsLoaded = dokumentStore.createStoreAction(async () => {\n  return draft => {\n    draft.allDocumentsLoaded = true;\n  };\n});\n\nexport interface DocStoreState {\n  navbar?: Navbar;\n  documentMap?: DocumentMap;\n  currentDocument?: DocumentData;\n  allDocumentsLoaded?: boolean;\n}\n","import Fuse from 'fuse.js';\nimport { DocumentMap } from '../utils/document_interfaces';\nimport { dokumentStore } from '../store/docStore';\n\ninterface Result {\n  slug: string;\n  content: string;\n}\nconst fuse = new Fuse<Result>([], {\n  includeScore: true,\n  keys: ['content'],\n  minMatchCharLength: 3,\n  ignoreLocation: true,\n});\n\nlet docMap: DocumentMap;\ndokumentStore.subscribe(model => {\n  if (model.documentMap !== docMap) {\n    docMap = model.documentMap;\n    fuse.setCollection(\n      Object.keys(docMap).flatMap(key => {\n        const doc = docMap[key];\n        console.log(doc);\n        return doc.content.split(`\\n`).map(content => {\n          return {\n            content,\n            slug: doc.slug,\n          };\n        });\n      })\n    );\n  }\n});\nexport interface DocSearchResult {\n  slug: string;\n  score: number;\n}\n\nexport function search(query: string): DocSearchResult[] {\n  let results: { [key: string]: DocSearchResult } = {};\n  return fuse.search(query).reduce((memo, result) => {\n    let r =\n      results[result.item.slug] ||\n      ({ score: 0, slug: result.item.slug } as DocSearchResult);\n    results[result.item.slug] = r;\n    r.score += result.score;\n    if (!memo.includes(r) && result.score < 0.6) {\n      memo.push(r);\n    }\n    return memo;\n  }, []);\n}\n","import * as React from 'react';\nimport { dokumentStore, DocStoreState } from './store/docStore';\nimport { ComponentList } from './theme/components/component_list';\nimport { search, DocSearchResult } from './search/search_index';\nimport { HtmdxOptions } from 'htmdx';\nimport { Store } from 'forimmer';\n\nexport interface DocContextValue {\n  dokumentStore: Store<DocStoreState>;\n  rootPath: string;\n  componentList: ComponentList;\n  title: string;\n  search: (query: string) => DocSearchResult[];\n  htmdxOptions: HtmdxOptions;\n  scrollContainerSelector: string;\n}\nexport const docContextValue: DocContextValue = {\n  dokumentStore,\n  rootPath: './',\n  componentList: undefined,\n  search: search,\n  title: '',\n  htmdxOptions: {},\n  scrollContainerSelector: 'main',\n};\n\nexport const docContext = React.createContext(docContextValue);\n","import ky from 'ky';\n\nexport function join(...args: string[]): string {\n  let parts: string[] = [];\n  for (let i: number = 0, l = args.length; i < l; i++) {\n    parts = parts.concat(args[i].split('/'));\n  }\n  let newParts: string[] = [];\n  for (let i: number = 0, l = parts.length; i < l; i++) {\n    let part: string = parts[i];\n    if (!part || part === '.') continue;\n    if (part === '..') newParts.pop();\n    else newParts.push(part);\n  }\n  if (parts[0] === '') newParts.unshift('');\n  return newParts.join('/') || (newParts.length ? '/' : '.');\n}\n\nexport async function getHeaders(filePath: string): Promise<Headers> {\n  return ky.head(filePath).then(r => r.headers);\n}\n\nexport async function getFile(filePath: string): Promise<string> {\n  return ky.get(filePath).text();\n}\n\nexport async function getJSON<T extends Object = JSON>(\n  filePath: string\n): Promise<T> {\n  return ky.get(filePath).json();\n}\n","import * as React from 'react';\nimport { docContext } from '../doc_context';\n\nexport function useDocContext() {\n  return React.useContext(docContext);\n}\n","import * as React from 'react';\n\nexport interface LastChangedProps {\n  timestamp: number;\n}\nexport function LastChanged(props: LastChangedProps): JSX.Element {\n  return (\n    <div className=\"last-changed\">\n      <div>last changed: </div>\n      <div>{new Date(props.timestamp).toLocaleString()}</div>\n    </div>\n  );\n}\n","import * as React from 'react';\n\nimport { htmdx } from 'htmdx';\nimport { useDocContext } from '../../hooks/use_doc_context';\nimport { Link } from 'react-router-dom';\nimport innerText from 'react-innertext';\nimport { LastChanged } from './last_changed';\nimport { useStoreState } from 'forimmer';\nimport { DocumentData } from '../../utils/document_interfaces';\nimport scrollIntoView from 'scroll-into-view';\n\nexport interface MDXContext {\n  currentDocument?: DocumentData;\n}\nlet hCount: number = 0;\nexport const mdxContext: React.Context<MDXContext> = React.createContext({});\nconst components: { [key: string]: React.FunctionComponent } = {\n  Demo: () => <h1>This is a demo component</h1>,\n};\n['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].forEach(h => {\n  const Component = (props: any): JSX.Element => {\n    const { currentDocument } = React.useContext(mdxContext);\n    let check = props.children;\n    if (check instanceof Array) {\n      check = React.createElement('div', { children: props.children });\n    }\n    const text: string = React.isValidElement(check)\n      ? innerText(check)\n      : props.children;\n    const heading = currentDocument.headings.find(heading =>\n      text.toString().includes(heading.text)\n    );\n    return React.createElement(h, {\n      key: h + hCount++,\n      id: heading && heading.slug,\n      children: [\n        <>\n          {heading ? (\n            <Link to={`${heading.slug}`}>{heading.text}</Link>\n          ) : (\n            props.children\n          )}\n        </>,\n      ],\n    });\n  };\n  components[h] = Component;\n});\n\nexport interface DocumentRendererProps {\n  slug: string;\n  headingSlug: string;\n}\n\nexport function DocumentRenderer(props: DocumentRendererProps): JSX.Element {\n  const {\n    componentList,\n    htmdxOptions = { components: {} },\n    dokumentStore,\n  } = useDocContext();\n  const { PreviousAndNext } = componentList;\n  const Provider = mdxContext.Provider;\n  const { scrollContainerSelector } = useDocContext();\n\n  const [documentMap, currentDocument] = useStoreState(dokumentStore, state => [\n    state.documentMap,\n    state.currentDocument,\n  ]);\n\n  React.useEffect(() => {\n    const heading: HTMLElement = document.getElementById(props.headingSlug);\n    if (heading) {\n      const scrollTarget =\n        heading.parentElement.firstElementChild === heading\n          ? document.querySelector('article')\n          : heading;\n      scrollIntoView(scrollTarget, {\n        validTarget: function(target: HTMLElement) {\n          return target.matches && target.matches(scrollContainerSelector);\n        },\n        align: {\n          top: 0,\n        },\n      });\n    }\n  }, [props.headingSlug, currentDocument]);\n\n  let previous: DocumentData;\n  let next: DocumentData;\n  if (currentDocument) {\n    const slugs: string[] = Object.keys(documentMap);\n    const docIndex: number = slugs.indexOf(currentDocument.slug);\n    if (docIndex > 0) {\n      previous = documentMap[slugs[docIndex - 1]];\n    }\n    if (docIndex < slugs.length - 1) {\n      next = documentMap[slugs[docIndex + 1]];\n    }\n  }\n  return (\n    <Provider value={{ currentDocument }}>\n      <PreviousAndNext previous={previous} next={next}></PreviousAndNext>\n      <div>\n        {htmdx(currentDocument.content, React.createElement, {\n          ...htmdxOptions,\n          components: { ...components, ...htmdxOptions.components },\n        })}\n      </div>\n      <PreviousAndNext previous={previous} next={next}></PreviousAndNext>\n      {currentDocument.lastModified > -1 && (\n        <LastChanged timestamp={currentDocument.lastModified}></LastChanged>\n      )}\n    </Provider>\n  );\n}\n","import * as React from 'react';\nimport { Menu } from 'antd';\nimport { useDocContext } from '../../hooks/use_doc_context';\nimport { useStoreState } from 'forimmer';\n\nexport function Nav(): JSX.Element {\n  const { dokumentStore } = useDocContext();\n  const [navbar] = useStoreState(dokumentStore, state => [state.navbar]);\n\n  const { NavLevel } = useDocContext().componentList;\n  return (\n    <Menu defaultOpenKeys={['sub1']} mode=\"inline\">\n      <NavLevel navbar={navbar}></NavLevel>\n    </Menu>\n  );\n}\n","import * as React from 'react';\nimport { useDocContext } from '../../hooks/use_doc_context';\nimport { Layout } from 'antd';\nconst { Sider } = Layout;\n\nexport function SideBar(): JSX.Element {\n  const { componentList } = useDocContext();\n  const { Nav } = componentList;\n  return (\n    <React.Suspense fallback=\"\">\n      <Sider>\n        <Nav></Nav>\n      </Sider>\n    </React.Suspense>\n  );\n}\n","import * as React from 'react';\nimport { useDocContext } from '../../hooks/use_doc_context';\nimport { Switch, Route, useParams } from 'react-router';\nimport { useStoreState } from 'forimmer';\nimport { setCurrentDocument } from '../../store/docStore';\nfunction RenderArticle() {\n  const { componentList, dokumentStore } = useDocContext();\n  const { DocumentRenderer } = componentList;\n  const [documentMap] = useStoreState(dokumentStore, state => [\n    state.documentMap,\n    state.currentDocument || null,\n  ]);\n  let { slug, headingSlug } = useParams();\n  const documentForSlug = !slug\n    ? Object.values(documentMap)[0]\n    : documentMap[slug];\n  React.useEffect(() => {\n    if (documentForSlug) {\n      setCurrentDocument(documentForSlug);\n    }\n  }, [slug, documentForSlug]);\n  return (\n    <DocumentRenderer slug={slug} headingSlug={headingSlug}></DocumentRenderer>\n  );\n}\n\nexport function Main(): JSX.Element {\n  const { Loading } = useDocContext().componentList;\n  return (\n    <main>\n      <article>\n        <Switch>\n          <Route path={`/document/:slug?/:headingSlug?`}>\n            <React.Suspense fallback={<Loading></Loading>}>\n              <RenderArticle></RenderArticle>\n            </React.Suspense>\n          </Route>\n          <Route path={`/`}>\n            <React.Suspense fallback={<Loading></Loading>}>\n              <RenderArticle></RenderArticle>\n            </React.Suspense>\n          </Route>\n        </Switch>\n      </article>\n    </main>\n  );\n}\n","import * as React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useDocContext } from '../../hooks/use_doc_context';\nimport { useStoreState } from 'forimmer';\n\nfunction useHandleSearchFocus(\n  searchQuery: string,\n  setSearchQuery: (query: string) => void,\n  inputRef: React.MutableRefObject<HTMLInputElement>\n) {\n  const location = useLocation();\n  React.useEffect(() => {\n    setSearchQuery(null);\n  }, [location]);\n  React.useLayoutEffect(() => {\n    if (searchQuery === null) {\n      inputRef.current.blur();\n    }\n  }, [searchQuery]);\n  React.useEffect(() => {\n    const listener: (event: MouseEvent) => void = event => {\n      let target: HTMLElement = event.target as HTMLElement;\n      if (target === document.body) {\n        setSearchQuery(null);\n        return;\n      }\n      while (target !== document.body) {\n        if (target instanceof HTMLAnchorElement) {\n          if (\n            target.href.replace(\n              window.location.href.replace(window.location.hash, ''),\n              ''\n            )[0] === '#'\n          ) {\n            setSearchQuery(null);\n            return;\n          }\n        }\n        target = target.parentElement;\n      }\n    };\n    document.body.addEventListener('click', listener);\n    return () => {\n      document.body.removeEventListener('click', listener);\n    };\n  }, []);\n\n  React.useEffect(() => {\n    const listener = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        setSearchQuery(null);\n      }\n    };\n    inputRef.current.addEventListener('keyup', listener);\n    return () => {\n      inputRef.current.removeEventListener('keyup', listener);\n    };\n  }, [inputRef.current]);\n\n  React.useEffect(() => {\n    const listener = () => {\n      setSearchQuery('');\n    };\n    inputRef.current.addEventListener('focus', listener);\n    return () => {\n      inputRef.current.removeEventListener('focus', listener);\n    };\n  }, [inputRef.current]);\n}\n\nexport function Search(): JSX.Element {\n  const { componentList, dokumentStore } = useDocContext();\n  const { SearchResults } = componentList;\n  const [searchQuery, setSearchQuery] = React.useState<string>(null);\n  const inputRef = React.useRef<HTMLInputElement>();\n\n  useHandleSearchFocus(searchQuery, setSearchQuery, inputRef);\n\n  const [allDocumentsLoaded] = useStoreState(dokumentStore, state => [\n    state.allDocumentsLoaded,\n  ]);\n\n  return (\n    <div className=\"search\">\n      {searchQuery && searchQuery.length > 0 && (\n        <SearchResults searchQuery={searchQuery}></SearchResults>\n      )}\n      <input\n        ref={inputRef}\n        type=\"text\"\n        value={searchQuery}\n        placeholder={\n          allDocumentsLoaded ? 'Search documents' : 'Preparing search...'\n        }\n        onChange={(e: React.SyntheticEvent<HTMLInputElement>) =>\n          setSearchQuery(e.currentTarget.value)\n        }\n        disabled={!allDocumentsLoaded}\n      ></input>\n    </div>\n  );\n}\n","import { DocumentData, DocumentHeading } from '../utils/document_interfaces';\nimport { join } from '../utils/file_utils';\nimport { useDocContext } from './use_doc_context';\n\nexport function useGetTo(): (doc: DocumentData) => [string, DocumentHeading] {\n  const { rootPath } = useDocContext();\n  return doc => {\n    const topHeading: DocumentHeading =\n      doc && doc.headings[0] && doc.headings[0].size === 1\n        ? doc.headings[0]\n        : undefined;\n    return [\n      join('/document', rootPath, doc.slug, topHeading ? topHeading.slug : ''),\n      topHeading,\n    ];\n  };\n}\n","import * as React from 'react';\nimport { DocumentData } from '../../utils/document_interfaces';\nimport { useGetTo } from '../../hooks/use_to';\nimport { Link } from 'react-router-dom';\nexport interface PreviousAndNextProps {\n  previous?: DocumentData;\n  next?: DocumentData;\n}\nexport function PreviousAndNext(props: PreviousAndNextProps): JSX.Element {\n  const { previous, next } = props;\n  const getTo = useGetTo();\n  return (\n    <div className=\"previous-next\">\n      {previous && (\n        <div className=\"previous\">\n          <span>\n            <Link to={getTo(previous)[0]}>{previous.title}</Link>\n          </span>\n        </div>\n      )}\n      {next && (\n        <div className=\"next\">\n          <span>\n            <Link to={getTo(next)[0]}>{next.title}</Link>\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n","export interface DocumentProvider {\n  getDocument(id: string): string;\n  getDocumentMap(): DocumentMap;\n}\n\nexport interface NavbarJSON {\n  [key: string]: string | NavbarJSON;\n}\n\nexport enum NavbarItemType {\n  CATEGORY,\n  DOCUMENT,\n}\nexport interface NavbarItem {\n  type: NavbarItemType;\n  path?: string;\n  slug?: string;\n  children?: Navbar;\n}\n\nexport interface Navbar {\n  [title: string]: NavbarItem;\n}\n\nexport interface DocumentHeading {\n  size: number;\n  text: string;\n  raw: string;\n  slug: string;\n}\nexport interface DocumentData {\n  title: string;\n  path: string;\n  slug: string;\n  content: string;\n  headings: DocumentHeading[];\n  lastModified: number;\n}\nexport interface DocumentMap {\n  [slug: string]: DocumentData;\n}\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  DocumentHeading,\n  Navbar,\n  NavbarItemType,\n} from '../../utils/document_interfaces';\nimport { useStoreState } from 'forimmer';\nimport { useDocContext } from '../../hooks/use_doc_context';\nimport { Menu } from 'antd';\n\nexport interface NavItemProps {\n  path: string;\n  slug?: string;\n  children: React.ReactNode;\n}\nexport function NavItem(props: NavItemProps): JSX.Element {\n  const { dokumentStore, componentList } = useDocContext();\n  const [documentMap] = useStoreState(dokumentStore, state => [\n    state.documentMap,\n  ]);\n  const { NavLevel } = componentList;\n\n  const document = documentMap[props.slug];\n  const topHeading: DocumentHeading =\n    document && document.headings[0] && document.headings[0].size === 1\n      ? document.headings[0]\n      : undefined;\n  const path = `${props.path}${topHeading ? `/${topHeading.slug}` : ``}`;\n  const linkRef = React.useRef<HTMLAnchorElement>(undefined);\n  const subNav: Navbar =\n    document &&\n    document.headings\n      .filter(\n        (heading: DocumentHeading, index: number) =>\n          heading.size < 4 && (index > 0 || heading.size > 1)\n      )\n      .reduce(\n        (memo, heading) => {\n          memo[heading.text] = {\n            type: NavbarItemType.DOCUMENT,\n            slug: `${props.path}/${heading.slug}`.replace('document/', ''),\n          };\n          return memo;\n        },\n        {} as Navbar\n      );\n  return (\n    <>\n      <Menu.Item key={path} onClick={() => linkRef.current.click()}>\n        <Link\n          to={`${props.path}${topHeading ? `/${topHeading.slug}` : ``}`}\n          ref={linkRef}\n        >\n          {topHeading ? topHeading.text : props.children}\n        </Link>\n      </Menu.Item>\n      {subNav && <NavLevel navbar={subNav}></NavLevel>}\n    </>\n  );\n}\n","import * as React from 'react';\nimport {\n  Navbar,\n  NavbarItemType,\n  DocumentData,\n} from '../../utils/document_interfaces';\nimport { useDocContext } from '../../hooks/use_doc_context';\nimport { useStoreState } from 'forimmer';\nimport { Menu } from 'antd';\nconst { SubMenu } = Menu;\n\nexport interface NavLevelProps {\n  navbar: Navbar;\n}\nexport function NavLevel(props: NavLevelProps): JSX.Element {\n  const { navbar } = props;\n  const { componentList } = useDocContext();\n  const { dokumentStore } = useDocContext();\n  const [docMap] = useStoreState(dokumentStore, state => [state.documentMap]);\n\n  const { NavItem, NavLevel } = componentList;\n  const titles: string[] = Object.keys(navbar);\n  const docArray: DocumentData[] = Object.values(docMap);\n  let prevDocument: DocumentData = docArray[0];\n  //const getTo = useGetTo();\n\n  return (\n    <SubMenu>\n      {titles.map(title => {\n        const { type, children, slug } = navbar[title];\n        if (type === NavbarItemType.CATEGORY) {\n          const next = docArray[docArray.indexOf(prevDocument) + 1];\n          if (next && next.slug) {\n            //const [to] = getTo(next);\n            //<Link to={to}>{title}</Link>\n\n            return <NavLevel {...{ navbar: children }}></NavLevel>;\n          } else {\n            return <NavLevel {...{ navbar: children }}></NavLevel>;\n          }\n        } else {\n          prevDocument = docMap[slug];\n          return (\n            <NavItem key={slug} path={'/document/' + slug} slug={slug}>\n              {title}\n            </NavItem>\n          );\n        }\n      })}\n    </SubMenu>\n  );\n}\n","import * as React from 'react';\nimport { useDocContext } from '../../hooks/use_doc_context';\nimport { useStoreState } from 'forimmer';\nimport { DocSearchResult } from 'search/search_index';\n\nexport interface SearchResultsProps {\n  searchQuery: string;\n}\n\nconst useSearch = (query: string) => {\n  const [result, setResult] = React.useState<DocSearchResult[]>([]);\n  const timeOutId = React.useRef(0);\n  const { search } = useDocContext();\n  React.useEffect(() => {\n    clearTimeout(timeOutId.current);\n    timeOutId.current = setTimeout(() => {\n      const result = search(query);\n      setResult(result);\n    }, 500);\n  }, [query]);\n  return result;\n};\n\nexport function SearchResults(props: SearchResultsProps): JSX.Element {\n  const { searchQuery } = props;\n  const { componentList } = useDocContext();\n  const { SearchResultsItem } = componentList;\n\n  const { dokumentStore } = useDocContext();\n  const [documentMap] = useStoreState(dokumentStore, state => [\n    state.documentMap,\n  ]);\n  const result = useSearch(searchQuery);\n  console.log(result);\n  return (\n    <div className={'search-results'}>\n      <h1>\n        Listing {result.length} document{result.length !== 1 ? 's' : ''} with\n        search results for {searchQuery}:\n      </h1>\n      <ul>\n        {result.map(r => {\n          const doc = documentMap[r.slug];\n          return (\n            <SearchResultsItem\n              doc={doc}\n              searchQuery={searchQuery}\n            ></SearchResultsItem>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport removeMarkdown from 'remove-markdown';\nimport Highlighter from 'react-highlight-words';\nimport { Link } from 'react-router-dom';\nimport { useGetTo } from '../../hooks/use_to';\nimport { DocumentData } from '../../utils/document_interfaces';\n\nfunction getSentencesWithSearchResults(\n  text: string,\n  searchWords: string[]\n): string[] {\n  return text.split(/[.?!\\n]/).filter(function(n) {\n    return new RegExp(`${searchWords.join('|')}`, 'i').test(n);\n  });\n}\n\nexport interface SearchResultsItemProps {\n  doc: DocumentData;\n  searchQuery: string;\n}\n\nexport function SearchResultsItem(props: SearchResultsItemProps) {\n  const { doc, searchQuery } = props;\n  const getTo = useGetTo();\n  return (\n    <li key={doc.slug}>\n      <label>\n        <Link to={getTo(doc)[0]}>\n          <Highlighter\n            highlightClassName=\"search-highlight\"\n            searchWords={[searchQuery]}\n            autoEscape={true}\n            textToHighlight={doc.title}\n          />\n        </Link>\n      </label>\n      {getSentencesWithSearchResults(removeMarkdown(doc.content), [\n        searchQuery,\n      ]).map(item => (\n        <pre key={item}>\n          <Highlighter\n            highlightClassName=\"search-highlight\"\n            searchWords={[searchQuery]}\n            autoEscape={true}\n            textToHighlight={item}\n          />\n        </pre>\n      ))}\n    </li>\n  );\n}\n","import * as React from 'react';\n\nexport function Loading(): JSX.Element {\n  return (\n    <>\n      <style type=\"text/css\">\n        {`\n                .loading {\n                    margin: 20px auto;\n                    margin-top: 50%;\n                    width: 40px;\n                    height: 40px;\n                    position: relative;\n                    -webkit-transform: rotateZ(45deg);\n                        transform: rotateZ(45deg);\n                }\n\n                .loading .cube {\n                float: left;\n                width: 50%;\n                height: 50%;\n                position: relative;\n                -webkit-transform: scale(1.1);\n                    -ms-transform: scale(1.1);\n                        transform: scale(1.1); \n                }\n                .loading .cube:before {\n                content: '';\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background-color: #333;\n                -webkit-animation: sk-foldCubeAngle 2.4s infinite linear both;\n                        animation: sk-foldCubeAngle 2.4s infinite linear both;\n                -webkit-transform-origin: 100% 100%;\n                    -ms-transform-origin: 100% 100%;\n                        transform-origin: 100% 100%;\n                }\n                .loading .cube2 {\n                -webkit-transform: scale(1.1) rotateZ(90deg);\n                        transform: scale(1.1) rotateZ(90deg);\n                }\n                .loading .cube3 {\n                -webkit-transform: scale(1.1) rotateZ(180deg);\n                        transform: scale(1.1) rotateZ(180deg);\n                }\n                .loading .cube4 {\n                -webkit-transform: scale(1.1) rotateZ(270deg);\n                        transform: scale(1.1) rotateZ(270deg);\n                }\n                .loading .cube2:before {\n                -webkit-animation-delay: 0.3s;\n                        animation-delay: 0.3s;\n                }\n                .loading .cube3:before {\n                -webkit-animation-delay: 0.6s;\n                        animation-delay: 0.6s; \n                }\n                .loading .cube4:before {\n                -webkit-animation-delay: 0.9s;\n                        animation-delay: 0.9s;\n                }\n                @-webkit-keyframes sk-foldCubeAngle {\n                0%, 10% {\n                    -webkit-transform: perspective(140px) rotateX(-180deg);\n                            transform: perspective(140px) rotateX(-180deg);\n                    opacity: 0; \n                } 25%, 75% {\n                    -webkit-transform: perspective(140px) rotateX(0deg);\n                            transform: perspective(140px) rotateX(0deg);\n                    opacity: 1; \n                } 90%, 100% {\n                    -webkit-transform: perspective(140px) rotateY(180deg);\n                            transform: perspective(140px) rotateY(180deg);\n                    opacity: 0; \n                } \n                }\n\n                @keyframes sk-foldCubeAngle {\n                0%, 10% {\n                    -webkit-transform: perspective(140px) rotateX(-180deg);\n                            transform: perspective(140px) rotateX(-180deg);\n                    opacity: 0; \n                } 25%, 75% {\n                    -webkit-transform: perspective(140px) rotateX(0deg);\n                            transform: perspective(140px) rotateX(0deg);\n                    opacity: 1; \n                } 90%, 100% {\n                    -webkit-transform: perspective(140px) rotateY(180deg);\n                            transform: perspective(140px) rotateY(180deg);\n                    opacity: 0; \n                }\n                }\n        `}\n      </style>\n      <div className=\"loading\">\n        <div className=\"cube1 cube\"></div>\n        <div className=\"cube2 cube\"></div>\n        <div className=\"cube4 cube\"></div>\n        <div className=\"cube3 cube\"></div>\n      </div>\n    </>\n  );\n}\n","import * as React from 'react';\n\nexport interface BrandingProps {\n  children: React.ReactNode;\n}\nexport function Branding(props: BrandingProps): JSX.Element {\n  return <div className=\"branding\">{props.children}</div>;\n}\n","import * as React from 'react';\nimport { DocumentData } from '../../utils/document_interfaces';\nimport { Link } from 'react-router-dom';\nimport { useGetTo } from '../../hooks/use_to';\nimport { useStoreState } from 'forimmer';\nimport { useDocContext } from '../../hooks/use_doc_context';\ninterface RecentDocument {\n  document: DocumentData;\n  timestamp: number;\n}\nexport function Recent(): JSX.Element {\n  const { dokumentStore } = useDocContext();\n  const [currentDocument] = useStoreState(dokumentStore, state => [\n    state.currentDocument,\n  ]);\n  const [recentDocuments, setRecentDocuments] = React.useState(\n    (localStorage.getItem('recent-document')\n      ? JSON.parse(localStorage.getItem('recent-document'))\n      : []) as RecentDocument[]\n  );\n  React.useEffect(() => {\n    if (currentDocument) {\n      const index: number = recentDocuments.findIndex(\n        ({ document }) => currentDocument.slug === document.slug\n      );\n      if (index > -1) {\n        recentDocuments.splice(index, 1);\n      }\n      recentDocuments.unshift({\n        document: currentDocument,\n        timestamp: Date.now(),\n      });\n      setRecentDocuments(recentDocuments);\n      localStorage.setItem('recent-document', JSON.stringify(recentDocuments));\n    }\n  }, [currentDocument]);\n  const getTo = useGetTo();\n  return (\n    <div className=\"recent\">\n      <div>recently viewed:</div>\n      <ul>\n        {recentDocuments.map(({ document, timestamp }) => {\n          const [to, heading] = getTo(document);\n          return (\n            <li key={heading.text + timestamp}>\n              <span className=\"recent-time\">\n                {new Date(timestamp).toLocaleString()}\n              </span>\n              <Link to={to}>{heading.text}</Link>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { useDocContext } from '../../hooks/use_doc_context';\n\nexport function Header(): JSX.Element {\n  const { componentList, title } = useDocContext();\n  const { Search, Branding } = componentList;\n  return (\n    <header className=\"header\">\n      <Branding>{title}</Branding>\n      <Search></Search>\n    </header>\n  );\n}\n","import { ComponentList } from './component_list';\nimport { DocumentRenderer } from './document_renderer';\nimport { Nav } from './nav';\nimport { SideBar } from './sidebar';\nimport { Main } from './main';\nimport { Search } from './search';\nimport { PreviousAndNext } from './previous_and_next';\nimport { NavItem } from './nav_item';\nimport { NavLevel } from './nav_level';\nimport { SearchResults } from './search_results';\nimport { SearchResultsItem } from './search_results_item';\nimport { Loading } from './loading';\nimport { Branding } from './branding';\nimport { LastChanged } from './last_changed';\nimport { Recent } from './recent';\n\nimport { Header } from './header';\n\nexport const componentListValue: ComponentList = {\n  DocumentRenderer,\n  NavItem,\n  NavLevel,\n  Nav,\n  SideBar,\n  Main,\n  Search,\n  PreviousAndNext,\n  SearchResults,\n  SearchResultsItem,\n  Loading,\n  Branding,\n  LastChanged,\n  Recent,\n  Header,\n};\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && !check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, value);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\t_entry(_this).then(returnValue, function(error) {\n\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import { getFile, getJSON, join, getHeaders } from './file_utils';\nimport removeMarkdown from 'remove-markdown';\nimport { addDocument } from '../store/docStore';\nimport {\n  DocumentHeading,\n  Navbar,\n  NavbarJSON,\n  NavbarItemType,\n  DocumentData,\n} from './document_interfaces';\n\nexport function findHeadings(document: string): DocumentHeading[] {\n  const parts: string[] = document.split(/\\n/g);\n  const headings: DocumentHeading[] = [];\n  let i: number = 0;\n  for (const part of parts) {\n    if (part.trim()[0] === '#') {\n      let size: number = 1;\n      while (part[size] && part[size] === '#') {\n        size++;\n      }\n      let text: string = removeMarkdown(part);\n      text = text.trim();\n      headings.push({\n        size,\n        text,\n        raw: part,\n        slug: `${i}-${slugify(text)}`,\n      });\n      i++;\n    }\n  }\n  return headings;\n}\n\nexport function buildNavbar(navbarJSON: NavbarJSON): Navbar {\n  let navbar: Navbar = {};\n  for (const title of Object.keys(navbarJSON)) {\n    const entry: string | NavbarJSON = navbarJSON[title];\n    if (typeof entry === 'object') {\n      navbar[title] = {\n        type: NavbarItemType.CATEGORY,\n        children: buildNavbar(entry),\n      };\n    } else {\n      const slug: string = slugify(entry);\n      navbar[title] = {\n        type: NavbarItemType.DOCUMENT,\n        slug: slug,\n        path: entry,\n      };\n    }\n  }\n  return navbar;\n}\n\nexport async function fetchNavbar(path: string): Promise<Navbar> {\n  const navbarJSON: NavbarJSON = await getJSON<NavbarJSON>(\n    join(path, 'navbar.docs.json')\n  );\n  return buildNavbar(navbarJSON);\n}\n\nexport function slugify(path: string): string {\n  const a =\n    'àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;';\n  const b =\n    'aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnooooooooprrsssssttuuuuuuuuuwxyyzzz------';\n  const p = new RegExp(a.split('').join('|'), 'g');\n\n  return path\n    .toString()\n    .toLowerCase()\n    .replace(/.mdx/g, '')\n    .replace(/\\s+/g, '-')\n    .replace(p, c => b.charAt(a.indexOf(c)))\n    .replace(/&/g, '-and-')\n    .replace(/[^\\w\\-]+/g, '')\n    .replace(/\\-\\-+/g, '-')\n    .replace(/^-+/, '')\n    .replace(/-+$/, '');\n}\n\nexport async function fetchDocuments(\n  rootPath: string,\n  navbar: Navbar\n): Promise<void> {\n  for (const title of Object.keys(navbar)) {\n    const { slug, children, type, path } = navbar[title];\n    if (type === NavbarItemType.CATEGORY) {\n      await fetchDocuments(rootPath, children);\n    } else {\n      const docPath: string = join(rootPath, path);\n      const document: DocumentData = JSON.parse(localStorage.getItem(slug));\n      let headers: Headers;\n      try {\n        headers = await getHeaders(docPath);\n      } catch (e) {}\n      const lastModified: string = headers && headers.get('last-modified');\n\n      let lastModifiedTimestamp: number = -1;\n      if (lastModified) {\n        lastModifiedTimestamp = new Date(lastModified).getTime();\n      }\n      if (document) {\n        if (document.lastModified === lastModifiedTimestamp) {\n          await addDocument(document);\n          continue;\n        }\n      }\n      try {\n        const content: string = await getFile(docPath);\n        const document = {\n          title,\n          content,\n          path: docPath,\n          slug,\n          headings: findHeadings(content),\n          lastModified: lastModifiedTimestamp,\n        };\n        localStorage.setItem(document.slug, JSON.stringify(document));\n        await addDocument(document);\n      } catch (e) {}\n    }\n  }\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport '@babel/polyfill';\nimport { Docs } from './theme/components/new/docs';\nimport { setNavBar, setDocumentsLoaded } from './store/docStore';\nimport { docContext, docContextValue } from './doc_context';\nimport { join } from './utils/file_utils';\nimport { ComponentList } from './theme/components/component_list';\nimport { componentListValue } from './theme/components/component_list_value';\nimport { HtmdxOptions } from 'htmdx';\nimport { fetchDocuments, fetchNavbar } from './utils/document_provider';\n\nexport interface DocsOptions {\n  rootPath: string;\n  navbarPath: string;\n  componentList: ComponentList;\n  htmdxOptions: HtmdxOptions;\n  title?: string;\n  scrollContainerSelector?: string;\n}\n\nasync function load(options: DocsOptions) {\n  const navbar = await fetchNavbar(join(options.rootPath, options.navbarPath));\n  await setNavBar(navbar);\n  await fetchDocuments(options.rootPath, navbar);\n  setDocumentsLoaded();\n}\n\nexport const defaultComponentList: ComponentList = { ...componentListValue };\n\nexport async function dokument(\n  container: HTMLElement,\n  optionsIn: Partial<\n    Omit<DocsOptions, 'componentList'> & {\n      componentList: Partial<ComponentList>;\n    }\n  > = {}\n): Promise<void> {\n  const options: DocsOptions = {\n    rootPath: './',\n    title: 'Documentation',\n    htmdxOptions: { ...optionsIn.htmdxOptions },\n    navbarPath: '',\n    ...optionsIn,\n    componentList: {\n      ...componentListValue,\n      ...(optionsIn.componentList || {}),\n    },\n  };\n  document.title = options.title;\n  load(options);\n  const Provider = docContext.Provider;\n  ReactDOM.render(\n    <Provider value={{ ...docContextValue, ...options }}>\n      <Docs></Docs>\n    </Provider>,\n    container\n  );\n}\n"],"names":["Header","Layout","Sider","Content","Docs","React","collapsed","setCollapsed","trigger","collapsible","className","Menu","theme","mode","defaultSelectedKeys","Item","key","icon","UserOutlined","VideoCameraOutlined","UploadOutlined","style","padding","MenuUnfoldOutlined","MenuFoldOutlined","onClick","c","margin","minHeight","dokumentStore","createStore","documentMap","allDocumentsLoaded","setNavBar","createStoreAction","navbar","draft","setCurrentDocument","currentDocument","addDocument","document","slug","setDocumentsLoaded","fuse","Fuse","includeScore","keys","minMatchCharLength","ignoreLocation","docMap","subscribe","model","setCollection","Object","flatMap","doc","console","log","content","split","map","search","query","results","reduce","memo","result","r","item","score","includes","push","docContextValue","rootPath","componentList","undefined","title","htmdxOptions","scrollContainerSelector","docContext","getJSON","filePath","ky","get","json","getFile","text","getHeaders","head","then","headers","join","parts","args","i","l","length","concat","newParts","part","pop","unshift","useDocContext","LastChanged","props","Date","timestamp","toLocaleString","hCount","mdxContext","components","Demo","forEach","h","Component","check","children","Array","innerText","heading","headings","find","toString","id","Link","to","DocumentRenderer","PreviousAndNext","Provider","useStoreState","state","getElementById","headingSlug","scrollTarget","parentElement","firstElementChild","querySelector","scrollIntoView","validTarget","target","matches","align","top","previous","next","slugs","docIndex","indexOf","value","htmdx","lastModified","Nav","NavLevel","defaultOpenKeys","SideBar","fallback","RenderArticle","useParams","documentForSlug","values","Main","Loading","Switch","Route","path","useHandleSearchFocus","searchQuery","setSearchQuery","inputRef","location","useLocation","current","blur","listener","event","body","HTMLAnchorElement","href","replace","window","hash","addEventListener","removeEventListener","e","Search","SearchResults","ref","type","placeholder","onChange","currentTarget","disabled","useGetTo","topHeading","size","getTo","NavbarItemType","NavItem","linkRef","subNav","filter","index","DOCUMENT","click","SubMenu","titles","docArray","prevDocument","CATEGORY","useSearch","setResult","timeOutId","clearTimeout","setTimeout","SearchResultsItem","getSentencesWithSearchResults","searchWords","n","RegExp","test","Highlighter","highlightClassName","autoEscape","textToHighlight","removeMarkdown","Branding","Recent","localStorage","getItem","JSON","parse","recentDocuments","setRecentDocuments","findIndex","splice","now","setItem","stringify","componentListValue","fetchDocuments","docPath","findHeadings","lastModifiedTimestamp","getTime","fetchNavbar","buildNavbar","trim","raw","slugify","navbarJSON","entry","a","b","p","toLowerCase","charAt","dokument","container","optionsIn","options","navbarPath","load","ReactDOM","defaultComponentList"],"mappings":"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"}